import{r as h,A as C,N as g,f as E,h as I,L as m,w as b,i as A,M as N,j as R,S as L,k as M,l as O,O as S,m as T,n as U}from"./chunk-TMI4QPZX-DMH_kh7d.js";import{j as e}from"./jsx-runtime-BjEdGezs.js";import{W as w,y as F}from"./index-SAsQWL3i.js";/* empty css                 */import{u as v,A as x}from"./ProductPrice-CTZpqAu3.js";import{C as H}from"./CartMain-CxAKOW3y.js";import{g as D,u as f}from"./search-DOeYwaXi.js";import{I as P}from"./Image-BzHgqrLN.js";import{M as _}from"./Money-BcZxcjHc.js";import"./variants-BDJOj-bf.js";const $="/assets/favicon-DZkC1E9c.svg",q="/assets/reset-BNfGROJi.css",B="/assets/app-CYX9jonB.css";function W({footer:t,header:s,publicStoreDomain:i}){return e.jsx(h.Suspense,{children:e.jsx(C,{resolve:t,children:r=>{var n;return e.jsx("footer",{className:"footer",children:(r==null?void 0:r.menu)&&((n=s.shop.primaryDomain)==null?void 0:n.url)&&e.jsx(Y,{menu:r.menu,primaryDomainUrl:s.shop.primaryDomain.url,publicStoreDomain:i})})}})})}function Y({menu:t,primaryDomainUrl:s,publicStoreDomain:i}){return e.jsx("nav",{className:"footer-menu",role:"navigation",children:(t||G).items.map(r=>{if(!r.url)return null;const n=r.url.includes("myshopify.com")||r.url.includes(i)||r.url.includes(s)?new URL(r.url).pathname:r.url;return!n.startsWith("/")?e.jsx("a",{href:n,rel:"noopener noreferrer",target:"_blank",children:r.title},r.id):e.jsx(g,{end:!0,prefetch:"intent",style:Q,to:n,children:r.title},r.id)})})}const G={items:[{id:"gid://shopify/MenuItem/461633060920",resourceId:"gid://shopify/ShopPolicy/23358046264",tags:[],title:"Privacy Policy",type:"SHOP_POLICY",url:"/policies/privacy-policy",items:[]},{id:"gid://shopify/MenuItem/461633093688",resourceId:"gid://shopify/ShopPolicy/23358013496",tags:[],title:"Refund Policy",type:"SHOP_POLICY",url:"/policies/refund-policy",items:[]},{id:"gid://shopify/MenuItem/461633126456",resourceId:"gid://shopify/ShopPolicy/23358111800",tags:[],title:"Shipping Policy",type:"SHOP_POLICY",url:"/policies/shipping-policy",items:[]},{id:"gid://shopify/MenuItem/461633159224",resourceId:"gid://shopify/ShopPolicy/23358079032",tags:[],title:"Terms of Service",type:"SHOP_POLICY",url:"/policies/terms-of-service",items:[]}]};function Q({isActive:t,isPending:s}){return{fontWeight:t?"bold":void 0,color:s?"grey":"white"}}function V({header:t,isLoggedIn:s,cart:i,publicStoreDomain:r}){return null}function K({menu:t,primaryDomainUrl:s,viewport:i,publicStoreDomain:r}){const n=`header-menu-${i}`,{close:l}=v();return e.jsxs("nav",{className:n,role:"navigation",children:[i==="mobile"&&e.jsx(g,{end:!0,onClick:l,prefetch:"intent",style:k,to:"/",children:"Home"}),(t||J).items.map(c=>{if(!c.url)return null;const u=c.url.includes("myshopify.com")||c.url.includes(r)||c.url.includes(s)?new URL(c.url).pathname:c.url;return e.jsx(g,{className:"header-menu-item",end:!0,onClick:l,prefetch:"intent",style:k,to:u,children:c.title},c.id)})]})}const J={items:[{id:"gid://shopify/MenuItem/461609500728",resourceId:null,tags:[],title:"Collections",type:"HTTP",url:"/collections",items:[]},{id:"gid://shopify/MenuItem/461609533496",resourceId:null,tags:[],title:"Blog",type:"HTTP",url:"/blogs/journal",items:[]},{id:"gid://shopify/MenuItem/461609566264",resourceId:null,tags:[],title:"Policies",type:"HTTP",url:"/policies",items:[]},{id:"gid://shopify/MenuItem/461609599032",resourceId:"gid://shopify/Page/92591030328",tags:[],title:"About",type:"PAGE",url:"/pages/about",items:[]}]};function k({isActive:t,isPending:s}){return{fontWeight:t?"bold":void 0,color:s?"grey":"black"}}const y="/search";function X({children:t,className:s="predictive-search-form",...i}){const r=E({key:"search"}),n=h.useRef(null),l=I(),c=v();function u(o){var p;o.preventDefault(),o.stopPropagation(),(p=n==null?void 0:n.current)!=null&&p.value&&n.current.blur()}function d(){var p;const o=(p=n==null?void 0:n.current)==null?void 0:p.value;l(y+(o?`?q=${o}`:"")),c.close()}function j(o){r.submit({q:o.target.value||"",limit:5,predictive:!0},{method:"GET",action:y})}return h.useEffect(()=>{var o;(o=n==null?void 0:n.current)==null||o.setAttribute("type","search")},[]),typeof t!="function"?null:e.jsx(r.Form,{...i,className:s,onSubmit:u,children:t({inputRef:n,fetcher:r,fetchResults:j,goToSearch:d})})}function a({children:t}){const s=v(),{term:i,inputRef:r,fetcher:n,total:l,items:c}=ie();function u(){r.current&&(r.current.blur(),r.current.value="")}function d(){u(),s.close()}return t({items:c,closeSearch:d,inputRef:r,state:n.state,term:i,total:l})}a.Articles=Z;a.Collections=z;a.Pages=ee;a.Products=re;a.Queries=se;a.Empty=te;function Z({term:t,articles:s,closeSearch:i}){return s.length?e.jsxs("div",{className:"predictive-search-result",children:[e.jsx("h5",{children:"Articles"}),e.jsx("ul",{children:s.map(r=>{var l;const n=f({baseUrl:`/blogs/${r.blog.handle}/${r.handle}`,trackingParams:r.trackingParameters,term:t.current??""});return e.jsx("li",{className:"predictive-search-result-item",children:e.jsxs(m,{onClick:i,to:n,children:[((l=r.image)==null?void 0:l.url)&&e.jsx(P,{alt:r.image.altText??"",src:r.image.url,width:50,height:50}),e.jsx("div",{children:e.jsx("span",{children:r.title})})]})},r.id)})})]},"articles"):null}function z({term:t,collections:s,closeSearch:i}){return s.length?e.jsxs("div",{className:"predictive-search-result",children:[e.jsx("h5",{children:"Collections"}),e.jsx("ul",{children:s.map(r=>{var l;const n=f({baseUrl:`/collections/${r.handle}`,trackingParams:r.trackingParameters,term:t.current});return e.jsx("li",{className:"predictive-search-result-item",children:e.jsxs(m,{onClick:i,to:n,children:[((l=r.image)==null?void 0:l.url)&&e.jsx(P,{alt:r.image.altText??"",src:r.image.url,width:50,height:50}),e.jsx("div",{children:e.jsx("span",{children:r.title})})]})},r.id)})})]},"collections"):null}function ee({term:t,pages:s,closeSearch:i}){return s.length?e.jsxs("div",{className:"predictive-search-result",children:[e.jsx("h5",{children:"Pages"}),e.jsx("ul",{children:s.map(r=>{const n=f({baseUrl:`/pages/${r.handle}`,trackingParams:r.trackingParameters,term:t.current});return e.jsx("li",{className:"predictive-search-result-item",children:e.jsx(m,{onClick:i,to:n,children:e.jsx("div",{children:e.jsx("span",{children:r.title})})})},r.id)})})]},"pages"):null}function re({term:t,products:s,closeSearch:i}){return s.length?e.jsxs("div",{className:"predictive-search-result",children:[e.jsx("h5",{children:"Products"}),e.jsx("ul",{children:s.map(r=>{var u,d;const n=f({baseUrl:`/products/${r.handle}`,trackingParams:r.trackingParameters,term:t.current}),l=(u=r==null?void 0:r.selectedOrFirstAvailableVariant)==null?void 0:u.price,c=(d=r==null?void 0:r.selectedOrFirstAvailableVariant)==null?void 0:d.image;return e.jsx("li",{className:"predictive-search-result-item",children:e.jsxs(m,{to:n,onClick:i,children:[c&&e.jsx(P,{alt:c.altText??"",src:c.url,width:50,height:50}),e.jsxs("div",{children:[e.jsx("p",{children:r.title}),e.jsx("small",{children:l&&e.jsx(_,{data:l})})]})]})},r.id)})})]},"products"):null}function se({queries:t,queriesDatalistId:s}){return t.length?e.jsx("datalist",{id:s,children:t.map(i=>i?e.jsx("option",{value:i.text},i.text):null)}):null}function te({term:t}){return t.current?e.jsxs("p",{children:["No results found for ",e.jsx("q",{children:t.current})]}):null}function ie(){var l,c;const t=E({key:"search"}),s=h.useRef(""),i=h.useRef(null);(t==null?void 0:t.state)==="loading"&&(s.current=String(((l=t.formData)==null?void 0:l.get("q"))||"")),h.useEffect(()=>{i.current||(i.current=document.querySelector('input[type="search"]'))},[]);const{items:r,total:n}=((c=t==null?void 0:t.data)==null?void 0:c.result)??D();return{items:r,total:n,inputRef:i,term:s,fetcher:t}}function ne({cart:t,children:s=null,footer:i,header:r,isLoggedIn:n,publicStoreDomain:l}){return e.jsxs(x.Provider,{children:[e.jsx(le,{cart:t}),e.jsx(ce,{}),e.jsx(ae,{header:r,publicStoreDomain:l}),r&&e.jsx(V,{header:r,cart:t,isLoggedIn:n,publicStoreDomain:l}),e.jsx("main",{children:s}),e.jsx(W,{footer:i,header:r,publicStoreDomain:l})]})}function le({cart:t}){return e.jsx(x,{type:"cart",heading:"CART",children:e.jsx(h.Suspense,{fallback:e.jsx("p",{children:"Loading cart ..."}),children:e.jsx(C,{resolve:t,children:s=>e.jsx(H,{cart:s,layout:"aside"})})})})}function ce(){const t=h.useId();return e.jsx(x,{type:"search",heading:"SEARCH",children:e.jsxs("div",{className:"predictive-search",children:[e.jsx("br",{}),e.jsx(X,{children:({fetchResults:s,goToSearch:i,inputRef:r})=>e.jsxs(e.Fragment,{children:[e.jsx("input",{name:"q",onChange:s,onFocus:s,placeholder:"Search",ref:r,type:"search",list:t})," ",e.jsx("button",{onClick:i,children:"Search"})]})}),e.jsx(a,{children:({items:s,total:i,term:r,state:n,closeSearch:l})=>{const{articles:c,collections:u,pages:d,products:j,queries:o}=s;return n==="loading"&&r.current?e.jsx("div",{children:"Loading..."}):i?e.jsxs(e.Fragment,{children:[e.jsx(a.Queries,{queries:o,queriesDatalistId:t}),e.jsx(a.Products,{products:j,closeSearch:l,term:r}),e.jsx(a.Collections,{collections:u,closeSearch:l,term:r}),e.jsx(a.Pages,{pages:d,closeSearch:l,term:r}),e.jsx(a.Articles,{articles:c,closeSearch:l,term:r}),r.current&&i?e.jsx(m,{onClick:l,to:`${y}?q=${r.current}`,children:e.jsxs("p",{children:["View all results for ",e.jsx("q",{children:r.current}),"  →"]})}):null]}):e.jsx(a.Empty,{term:r})}})]})})}function ae({header:t,publicStoreDomain:s}){var i;return t.menu&&((i=t.shop.primaryDomain)==null?void 0:i.url)&&e.jsx(x,{type:"mobile",heading:"MENU",children:e.jsx(K,{menu:t.menu,viewport:"mobile",primaryDomainUrl:t.shop.primaryDomain.url,publicStoreDomain:s})})}const ye=({formMethod:t,currentUrl:s,nextUrl:i})=>!!(t&&t!=="GET"||s.toString()===i.toString());function ve(){return[{rel:"preconnect",href:"https://cdn.shopify.com"},{rel:"preconnect",href:"https://shop.app"},{rel:"icon",type:"image/svg+xml",href:$}]}function Pe({children:t}){const s=w();return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),e.jsx("link",{rel:"stylesheet",href:q}),e.jsx("link",{rel:"stylesheet",href:B}),e.jsx(N,{}),e.jsx(R,{})]}),e.jsxs("body",{children:[t,e.jsx(L,{nonce:s}),e.jsx(M,{nonce:s})]})]})}const Se=b(function(){const s=O("root");return s?e.jsx(F.Provider,{cart:s.cart,shop:s.shop,consent:s.consent,children:e.jsx(ne,{...s,children:e.jsx(S,{})})}):e.jsx(S,{})}),ke=A(function(){var n;const s=T();let i="Unknown error",r=500;return U(s)?(i=((n=s==null?void 0:s.data)==null?void 0:n.message)??s.data,r=s.status):s instanceof Error&&(i=s.message),e.jsxs("div",{className:"route-error",children:[e.jsx("h1",{children:"Oops"}),e.jsx("h2",{children:r}),i&&e.jsx("fieldset",{children:e.jsx("pre",{children:i})})]})});export{ke as ErrorBoundary,Pe as Layout,Se as default,ve as links,ye as shouldRevalidate};
